<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <style>
        body { font-family: Arial; font-size: 14px; }
        h1, h3 { color: #333; }
        table { width: 100%; border-collapse: collapse; margin-top: 15px; }
        th, td { border: 1px solid #000; padding: 6px; text-align: left; }
    </style>
</head>
<body>
    <h1>Facture Achat produit acheté</h1>

    <p><strong>Achat N° :</strong> {{ achat.numero_achat }}</p>
    <p><strong>Date :</strong> {{ achat.created_at|date:"d/m/Y" }}</p>
    <p><strong>Fournisseur :</strong> {{ fournisseur.nom }} {{ fournisseur.prenom }}</p>

    <h3>Produit</h3>
    <table>
        <thead>
            <tr>
                <th>#</th>
                <th>Descrition</th>
                <th>prix/grms</th>
                <th>Quantité</th>
                <th>Sous-total</th>
            </tr>
        </thead>
        <tbody>
            {% for p in achat.produits.all %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>
                    <span>{{ p.produit.nom }}</span>
                    <span>{{ p.produit.matiere.marque }}</span>
                    <span>poids {{ p.produit.poids }}g</span>
                    <span>de {{ p.produit.taille }}cm</span>
                    <span>pour {{ p.produit.genre }}</span>
                    <span>marque {{ p.produit.marque.marque }}</span>
                    <span>{{ p.produit.purete.purete }}carats</span>
                </td>
                <td>{{ p.prix_achat_gramme }} FCFA</td>
                <td>{{ p.quantite }}</td>
                <td>{{ p.sous_total_prix_achat }} FCFA</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</body>
</html>